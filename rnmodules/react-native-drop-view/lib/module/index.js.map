{"version":3,"names":["React","View","requireNativeComponent","UIManager","Platform","LINKING_ERROR","select","ios","default","ComponentName","isSupported","OS","IMPL","getViewManagerConfig","Error","DropViewWrapperIOS","p","onDropped","onDroppedCB","useCallback","e","manifest","nativeEvent","cleanedUp","reduce","arr","item","originalPath","content","push","Array"],"sources":["index.tsx"],"sourcesContent":["import * as React from 'react'\nimport {\n  View,\n  requireNativeComponent,\n  UIManager,\n  Platform,\n  ViewStyle,\n} from 'react-native';\n\nconst LINKING_ERROR =\n  `The package 'react-native-drop-view' doesn't seem to be linked. Make sure: \\n\\n` +\n  Platform.select({ ios: \"- You have run 'pod install'\\n\", default: '' }) +\n  '- You rebuilt the app after installing the package\\n' +\n  '- You are not using Expo managed workflow\\n';\n\nexport type DropItems = Array<{originalPath?: string; content?: string}>\nexport type Props = {\n  children?: React.ReactNode\n  onDropped: (items: DropItems) => void\n  style?: ViewStyle;\n}\n\nconst ComponentName = 'DropView';\nconst isSupported = Platform.OS === 'ios'\nconst IMPL =\n  UIManager.getViewManagerConfig(ComponentName) != null\n    ? requireNativeComponent<Props>(ComponentName)\n    : () => {\n        throw new Error(LINKING_ERROR);\n      };\n\nconst DropViewWrapperIOS = (p: Props) => {\n  const {onDropped} = p\n  const onDroppedCB = React.useCallback(\n    (e: any) => {\n      const manifest = e.nativeEvent.manifest as DropItems\n      const cleanedUp = manifest.reduce((arr, item) => {\n        if (item.originalPath || item.content) {\n          arr.push(item)\n        }\n        return arr\n      }, new Array<DropItems[0]>())\n      onDropped(cleanedUp)\n    },\n    [onDropped]\n  )\n  // @ts-ignore\n  return <IMPL {...p} onDropped={onDroppedCB} />\n}\nexport default isSupported ? DropViewWrapperIOS : View\n"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SACEC,IADF,EAEEC,sBAFF,EAGEC,SAHF,EAIEC,QAJF,QAMO,cANP;AAQA,MAAMC,aAAa,GAChB,iFAAD,GACAD,QAAQ,CAACE,MAAT,CAAgB;EAAEC,GAAG,EAAE,gCAAP;EAAyCC,OAAO,EAAE;AAAlD,CAAhB,CADA,GAEA,sDAFA,GAGA,6CAJF;AAaA,MAAMC,aAAa,GAAG,UAAtB;AACA,MAAMC,WAAW,GAAGN,QAAQ,CAACO,EAAT,KAAgB,KAApC;AACA,MAAMC,IAAI,GACRT,SAAS,CAACU,oBAAV,CAA+BJ,aAA/B,KAAiD,IAAjD,GACIP,sBAAsB,CAAQO,aAAR,CAD1B,GAEI,MAAM;EACJ,MAAM,IAAIK,KAAJ,CAAUT,aAAV,CAAN;AACD,CALP;;AAOA,MAAMU,kBAAkB,GAAIC,CAAD,IAAc;EACvC,MAAM;IAACC;EAAD,IAAcD,CAApB;EACA,MAAME,WAAW,GAAGlB,KAAK,CAACmB,WAAN,CACjBC,CAAD,IAAY;IACV,MAAMC,QAAQ,GAAGD,CAAC,CAACE,WAAF,CAAcD,QAA/B;IACA,MAAME,SAAS,GAAGF,QAAQ,CAACG,MAAT,CAAgB,CAACC,GAAD,EAAMC,IAAN,KAAe;MAC/C,IAAIA,IAAI,CAACC,YAAL,IAAqBD,IAAI,CAACE,OAA9B,EAAuC;QACrCH,GAAG,CAACI,IAAJ,CAASH,IAAT;MACD;;MACD,OAAOD,GAAP;IACD,CALiB,EAKf,IAAIK,KAAJ,EALe,CAAlB;IAMAb,SAAS,CAACM,SAAD,CAAT;EACD,CAViB,EAWlB,CAACN,SAAD,CAXkB,CAApB,CAFuC,CAevC;;EACA,oBAAO,oBAAC,IAAD,eAAUD,CAAV;IAAa,SAAS,EAAEE;EAAxB,GAAP;AACD,CAjBD;;AAkBA,eAAeR,WAAW,GAAGK,kBAAH,GAAwBd,IAAlD"}